/*!
 *
 *  Web Starter Kit
 *  Copyright 2014 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
function changePlace(n){localStorage.setItem("place",n),location.reload()}function launchAnalysis(n){location.href="analysis.html?place="+n}var ip="";!function(){"use strict";function n(){o.classList.remove("open"),s.classList.remove("open"),i.classList.remove("open")}function e(){o.classList.toggle("open"),s.classList.toggle("open"),i.classList.toggle("open"),i.classList.add("opened")}function t(){location.reload()}var a=document.querySelector.bind(document),i=a(".navdrawer-container"),o=document.body,s=a(".app-bar"),l=a(".menu"),c=a(".refresh"),r=a("main");r.addEventListener("click",n),l.addEventListener("click",e),c.addEventListener("click",t),$.get(ip+"/retrieve_places",function(n){$.each(n,function(n,e){$(".place-list").append('<div class="item" onclick="changePlace(\''+e+"');\">"+e+"</div>"),$(".analysis-list").append('<div class="item" onclick="launchAnalysis(\''+e+"');\">"+e+"</div>")})}),$(".navdrawer-container li").click(function(){$(this).find(".sub-menu").addClass("open")}),$(".pool-option").click(function(){$(".pool-option").removeClass("selected"),$(this).addClass("selected")}),$(".submit-button").click(function(){var n=$("#place_name").val(),e=$("#num_counters").val(),t=!1;$(".pool-option.pooled").hasClass("selected")&&(t=!0),0===n.length||parseInt(e)<1||$.get(ip+"/add_place",{place:n,num_counters:e,is_pooled:t},function(e){console.log(e),localStorage.setItem("place",n),location.reload()})})}(),function(){"use strict";var n="",e=window.location.search.substring(1).split("=")[1];$(".analysis-name").text("Place: "+e),$.get(n+"/get_analysis",{place:e},function(n){$(".place-info .visit-date").text(n.visit_date),$(".place-info .num-counters").text(n.num_counters),$(".place-info .pooled-boolean").text(1===n.is_pooled?"Pooled":"Non-Pooled"),$(".place-info .num-datapoints").text(n.num_datapoints),$.each(n.summary,function(n,e){$(".stat-box."+e[0]+" .stat-num").text(e[1].toFixed(2))});var e={showLine:!1,chartPadding:{right:15},plugins:[ctMissingData({showMissingDataPoints:!1})],axisX:{labelInterpolationFnc:function(n,e){return e%13===0?n:null}}},t=[["screen and (min-width: 640px)",{axisX:{labelInterpolationFnc:function(n,e){return e%4===0?n:null}}}]];new Chartist.Line("#interarrival",n.interarrival,e,t),new Chartist.Line("#waiting_time",n.waiting,e,t);var a={stackBars:!0,axisY:{labelInterpolationFnc:function(n){return n/1}}};new Chartist.Bar("#processing",n.processing,a).on("draw",function(n){"bar"===n.type&&n.element.attr({style:"stroke-width: 30px"})})})}();